expectedTerms={'abiyotik',
               'adaptasyon',
               'adenin',
               'aerobik',
               'aflatoksin',
               'aflp',
               'agaroz',
               'aglütinasyon',
               'agresif',
               'akraba',
               'akrosentrik kromozom',
               'aksiyon potansiyeli',
               'akson',
               'aktif bölge',
               'aktin',
               'aktivatör',
               'akut',
               'albino',
               'alel',
               'alel sıklığı',
               'alerjen',
               'alerjik',
               'aljinat',
               'alternatif kırpılma',
               'altsınıf',
               'alttür',
               'alıcı',
               'ames testi',
               'amilaz',
               'anaerob',
               'anaerobik',
               'anafaz',
               'angiosperm',
               'antagonizma',
               'anter',
               'antibiyotik',
               'antibiyotik direnci',
               'antifungal',
               'antijen',
               'antiseptik',
               'antiviral',
               'apikal',
               'apoptoz',
               'aritmi',
               'asetil koenzim a',
               'asetilkolinesteraz',
               'astım',
               'atasal',
               'ateş',
               'ağsı',
               'aşı',
               'aşı kültürü',
               'aşılama',
               'b kromozomu',
               'bakteri',
               'bakteriler',
               'bakteriyoloji',
               'bakteriyosin',
               'baskılama',
               'baskılayıcı',
               'baskın',
               'bazal lamina',
               'bağışıklık',
               'bağışıklık sistemi',
               'besin',
               'besin zinciri',
               'besiyeri',
               'birey',
               'bitki büyüme düzenleyicisi',
               'bitki doku kültürü',
               'biyoetanol',
               'biyoiyileştirme',
               'biyoloji',
               'biyoremediasyon',
               'biyosensör',
               'biyoteknoloji',
               'blast',
               'boğum',
               'boşaltım',
               'bölüm',
               'büyüme eğrisi',
               'büyüme faktörü',
               'cins',
               'dehidrojenaz',
               'dejenerasyon',
               'dendrogram',
               'denek',
               'deney hayvanı',
               'deoksiribonükleik asit',
               'deoksiriboz',
               'deri',
               'dermatit',
               'dikotiledon',
               'distal',
               'dna ligaz',
               'dna polimeraz',
               'dna replikasyonu',
               'doku',
               'doku kültürü',
               'domain',
               'donör',
               'dorsal',
               'doz',
               'drog',
               'dsc',
               'duyarlı',
               'dönme',
               'dışkı',
               'ekosistem',
               'eksplant',
               'ektoderm',
               'ekzin',
               'ekzon',
               'embriyo',
               'endemik',
               'endokrin',
               'endonükleaz',
               'endopeptidaz',
               'endoplazmik retikulum',
               'endospor',
               'enfeksiyon',
               'enjeksiyon',
               'enzim',
               'enzim karakterizasyonu',
               'epidermis',
               'epigenetik',
               'epitop',
               'ergenlik',
               'etken',
               'etmen',
               'eşeysel seçilim',
               'farklılaşma',
               'farmakoloji',
               'fekal koliform',
               'fenotip',
               'fenotipik plastisite',
               'fermantasyon',
               'fertil',
               'fibril',
               'fibrinojen',
               'fibroblast',
               'filogenetik',
               'fosfataz',
               'fosfolipit',
               'fourier dönüşümlü kızılötesi spektroskopisi',
               'ftir',
               'fungi',
               'fungus',
               'gavaj',
               'gen',
               'gen ailesi',
               'gen bankası',
               'gen ifadesi',
               'genbank',
               'genetik transformasyon',
               'genetik çeşitlilik',
               'genom',
               'genombilim',
               'genomik dna',
               'genotip',
               'genotoksik',
               'genotoksisite',
               'giderme',
               'glikokonjugat',
               'glikolipit',
               'glikozil transferaz',
               'gram boyama',
               'granülosit',
               'guanidin',
               'görülme sıklığı',
               'gövde',
               'gıda zehirlenmesi',
               'havalandırma',
               'hayvansal',
               'hela hücreleri',
               'hemaglütinasyon',
               'hematotoksik',
               'hemoglobin',
               'hemorajik',
               'hemosiderin',
               'hepatik',
               'heterozigotluk',
               'hidrojel',
               'hidrolitik enzim',
               'hif',
               'histamin',
               'histoloji',
               'histon',
               'histopatoloji',
               'homojenizasyon',
               'homolog',
               'hormon',
               'hücre',
               'hücre bölünmesi',
               'hücre duvarı',
               'hücre dışı',
               'hücre farklılaşması',
               'hücre hattı',
               'hücre iskeleti',
               'hücre içi',
               'hücre kültürü',
               'hücre soyu',
               'hücre zarı',
               'hücre çekirdeği',
               'hücresel',
               'hücresel bağışıklık',
               'idrar söktürücü',
               'ilaç',
               'immobilizasyon',
               'immünojenik',
               'implant',
               'in silico',
               'in situ',
               'in vitro',
               'in vivo',
               'ince tabaka kromatografisi',
               'indirgen şeker',
               'indükleyici',
               'inhibisyon',
               'inhibitör',
               'inkübasyon',
               'inokülüm',
               'interferon',
               'intron',
               'izolat',
               'jel elektroforezi',
               'kallus',
               'kalıntı',
               'kanser',
               'kapsül',
               'kardeş tür',
               'kardiyotoksik',
               'kardiyovasküler sistem',
               'karsinojen',
               'karsinom',
               'karyotip',
               'kaspaz',
               'katalaz',
               'kemoterapi',
               'kendiliğinden',
               'kinaz',
               'kinin',
               'kinon',
               'kitin',
               'kitosan',
               'klad',
               'klon',
               'klonal çoğaltım',
               'klonlama',
               'klorofil',
               'kloroplast',
               'koenzim',
               'kolesterol',
               'kolon kromatografisi',
               'koloni',
               'kolşisin',
               'komünite',
               'konakçı',
               'korteks',
               'kotiledon',
               'kreatin',
               'kreatinin',
               'kromozom',
               'kromozom köprüsü',
               'kronik',
               'ksenobiyotik',
               'kuru ağırlık',
               'kök hücre',
               'küf',
               'kültür',
               'kütikula',
               'kısır',
               'lam',
               'lamina',
               'lektin',
               'lenfoma',
               'lenfosit',
               'ligasyon',
               'linolenik asit',
               'lipaz',
               'lipit',
               'lizis',
               'lizozim',
               'lizozom',
               'lokus',
               'lösemi',
               'lösin fermuarı',
               'lümen',
               'makrofaj',
               'makroskobik',
               'malditof',
               'malt',
               'maya',
               'maya özütü',
               'mayoz',
               'melas',
               'meristem kültürü',
               'metabolit',
               'metabolizma',
               'metafaz',
               'metastaz',
               'mezofil',
               'mikoriza',
               'mikroalg',
               'mikrobiyal',
               'mikrobiyoloji',
               'mikronükleus',
               'mikronükleus testi',
               'mikroorganizma',
               'mikrorna',
               'mikrospor',
               'mikrozom',
               'mikroçekirdek',
               'miksoploidi',
               'misel',
               'mitojenik',
               'mitokondri',
               'mitokondriyal dna',
               'mitoz',
               'mitoz indeksi',
               'miyeloma',
               'miyozin',
               'moleküler biyoloji',
               'moleküler genetik',
               'moleküler kenetlenme',
               'moleküler taksonomi',
               'monoklonal',
               'monokotiledon',
               'morfoloji',
               'mukus',
               'mutajen',
               'mutant',
               'mutasyon',
               'mutasyon sıklığı',
               'negatif kontrol',
               'nekroz',
               'nitelik',
               'nodül',
               'nokta mutasyonu',
               'nöron',
               'nörotoksik',
               'nükleaz',
               'nükleotit',
               'nükleus',
               'oksidaz',
               'oksidoredüktaz',
               'oligopeptit',
               'olumsuz etki',
               'optimizasyon',
               'organ kültürü',
               'organel',
               'organizma',
               'organoleptik',
               'osteoporoz',
               'otoekoloji',
               'otofaji',
               'palearktik',
               'parankima',
               'patojen',
               'penisilin',
               'pepton',
               'peroksidaz',
               'petri kabı',
               'plazma',
               'plazmit',
               'polimeraz',
               'polimorfizm',
               'popülasyon',
               'por',
               'pozitif kontrol',
               'prob',
               'probiyotik',
               'proksimal',
               'protein',
               'protein sentezi',
               'proteoliz',
               'protoplast',
               'pulmoner',
               'reaktif oksijen türleri',
               'redüktaz',
               'rejenerasyon',
               'rekombinant',
               'rekombinant protein',
               'renal',
               'restriksiyon enzimi',
               'restriksiyon parça uzunluk polimorfizmi',
               'retiküler',
               'rflp',
               'ribozom',
               'rinit',
               'rna',
               'rodopsin',
               'rtpcr',
               'saf kültür',
               'salgı',
               'selülaz',
               'semptomatoloji',
               'sendrom',
               'sepsis',
               'septik şok',
               'septum',
               'serin proteaz',
               'serogrup',
               'seroloji',
               'sindirim',
               'sitokinez',
               'sitokrom',
               'sitokrom oksidaz',
               'sitokrom p450',
               'sitometri',
               'sitoplazma',
               'sitotaksonomi',
               'sitotoksik',
               'sitotoksisite',
               'sklerenkima',
               'sodyum dodesil sülfat',
               'solunum',
               'somatik',
               'somatik embriyogenez',
               'spontan',
               'spor',
               'starter kültür',
               'steril',
               'stroma',
               'subkronik',
               'substrat',
               'susturucu',
               'susuz',
               'suş',
               'sölom',
               'süperoksit dismutaz',
               'sınıf',
               't lenfosit',
               'takson',
               'taksonomi',
               'takım',
               'tanı',
               'tanı testi',
               'taramalı elektron mikroskobu',
               'tarımsal atık',
               'tarımsal biyoçeşitlilik',
               'taşıyıcı',
               'telofaz',
               'tem',
               'temas açısı',
               'termofil',
               'tohum',
               'toksik',
               'toksin',
               'tolerans',
               'topikal',
               'topoizomeraz',
               'transfeksiyon',
               'transkripsiyon',
               'transkripsiyon faktörü',
               'translasyon',
               'troponin',
               'tümör',
               'tümör baskılayıcı gen',
               'tür',
               'tıp',
               'uçucu yağ',
               'vejetatif hücre',
               'vektör',
               'ventral',
               'verici',
               'veriliş',
               'verim',
               'virüs',
               'vitamin',
               'western blot',
               'x kromozomu',
               'y kromozomu',
               'yaban tip',
               'yapışık kromozom',
               'yeniden programlanma',
               'yetiştirme',
               'yumurtalık',
               'yönlendirilmiş mutagenez',
               'zar',
               'zehir',
               'zon',
               'çekinik',
               'çekirdek zarı',
               'çenek yaprak',
               'çimlenme',
               'çiçek',
               'çok eşli',
               'ödem',
               'örneklem',
               'ülser',
               'üreme',
               'ürün',
               'şaperon',
               'şok '}

# termsGoldFile_EN = open('/home/ikaraman/Desktop/oxfordDictionary/biologyOxford.txt', 'r')
termsGoldFile = open("/home/ikaraman/Desktop/tubaDictionary/ComputerScience_tr.txt", 'r')

FIELD_NAME = "computer"


# termsExtractedFile= open('/home/ikaraman/Downloads/computerTerms_Mix_tr (2).txt', 'r');
# termsExtractedFile= open('/home/ikaraman/Downloads/computerTerms_Mix_tr epoch10_batchSize200.txt', 'r');
termsExtractedFile= open('/home/ikaraman/Downloads/computerTerms_Mix_tr (3).txt', 'r');
# termsExtractedFile= open('/home/ikaraman/Downloads/computerScienceTerms_tr.txt', 'r');

# FIELD_NAME="chemistry"
goldTerms = []
goldTerms_Mix = []
extractedTerms = []
extractedTermsMix = []
expectedTerms_EN=[]
for line in termsGoldFile:
    if line.strip():
        goldTerms.append(line.lower().strip())
        goldTerms_Mix.append(line.lower().strip())
# for line in termsGoldFile_EN:
#     if line.strip():
#         expectedTerms_EN.append(line.lower().strip())
goldTerms = set(goldTerms)
# expectedTerms_EN = set(expectedTerms_EN)
matchCount = 0
for line in termsExtractedFile.readlines():
    if line.strip():
        extractedTerms.append(line.lower().strip())
# for line in termsExtractedFileMix.readlines():
#     if line.strip():
#         extractedTermsMix.append(line.lower().strip())
extractedTerms = set(extractedTerms)
# extractedTermsMix = set(extractedTermsMix)
# superSet=[]
# subSet=[]
# test2=[]

#
with open('/archive/partitionedDataset/ComputerScience_training_tr.txt') as file:
    trainingData = file.read().replace('\n', '')

trainingData = trainingData.lower().strip()


# for term in expectedTerms:
#     term=term.lower().strip()
#     if term not in extractedTerms:
#         for y in expectedTerms:
           # if term in y:
               # print("&& ",term)
        # if term in trainingData:
        #    split = trainingData.split()
        #    count=0
        #    for i in split:
        #        if i== term:
        #            count=count+1
        #    print("&& "+term+" Count:",count)

matchSet=[]
falseSet=[]
for term in extractedTerms:
    # if term not in trainingData:
    # if term.lower().strip() not in trainingData:
    #     print("&&",term)
    term=term.lower().strip()
    if term in goldTerms:
        matchCount = matchCount + 1
        print("&& " ,term)
        matchSet.append(term)
        # if term not in trainingData:
        #      print(" ",term)
    else:
        falseSet.append(term)
        # if term not in trainingData:
            # print(" || ",term)
        # print(" ",term)
        # for i in expectedTerms:
        #     if " "+i+"" in term or " "+i+" " in term or ""+i+" " in term:
        #         print("Expected: "+i+", Extracted:"+term)
        #         superSet.append(term)
        #         continue
        #     if " "+term+"" in i or " "+term+" " in i or ""+term+" " in i:
        #         # print("Expected: "+i+", Extracted:"+term)
        #         subSet.append(term)
        #         continue

                # if term.lower().strip() not in trainingData:
        #         # print("Extracted term:",term, "Gold term:",i)
        #     # else:
        #         # if i.endswith(term+""):
        #             # if term.lower().strip() not in trainingData:
        #             #      print("Extracted term:",term, "Gold term:",i)
        #         # test2.append(term)

# falseSet=set(falseSet)
# newFalseSet=[]
# for i in falseSet:
#     if i not in superSet and i not in subSet:
#         newFalseSet.append(i)

# englishTerms=[]
# for i in newFalseSet:
#     if i in expectedTerms_EN:
#         englishTerms.append(i)
#
# englishTerms=set(englishTerms)
#
# finalFalseSet=[]
# for n in newFalseSet:
#     if n not in englishTerms:
#         finalFalseSet.append(n)
# finalFalseSet=set(finalFalseSet)
# superSet=set(superSet)
# print("Superset:",len(set(superSet)))
# subSet=set(subSet)
# print(subSet)
# print(superSet)
# print("Subset",+len(subSet))
print("Extracted term count", len(extractedTerms))
print("Gold term count", len(goldTerms))
print("Match count", matchCount)
print("Precision", matchCount / len(extractedTerms))

# print("Mixde olup normalde olmayanlar: ")
# difference = []
# for term in extractedTermsMix:
#     if term not in extractedTerms:
#         if term in goldTerms:
#             difference.append(term)
#         if term not in goldTerms:
#             print(term)
# print("Difference:", len(difference))


# newGoldTermsFile=open('/home/ikaraman/Desktop/tubaDictionary/biyolojiTerimleriYeni_tr')

# newGoldTerms = []
# for line in newGoldTermsFile:
#     if line.strip():
#         split = line.split(':')
#         if len(split)!=2:
#             continue
#         term= split[0]
#         newGoldTerms.append(term.lower().strip())
#
# newGoldTerms=set(newGoldTerms)
# print(len(newGoldTerms))

# count=0
# for d in difference:
#     if d in newGoldTerms:
#         count=count+1

# print()